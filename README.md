# ğŸ¦  COVID Prediction Web App

A full-stack Machine Learning web application built with **Flask**, **MySQL**, and **Scikit-learn** that predicts whether a person has COVID-19 based on their symptoms â€” with a complete login system, prediction history, service booking, and contact form.

---

## ğŸ–¥ï¸ Tech Stack

| Layer | Technology |
|---|---|
| Backend | Python, Flask |
| Database | MySQL, PyMySQL |
| Machine Learning | Scikit-learn, Joblib |
| Frontend | HTML, CSS (Jinja2 Templates) |
| Session Handling | Flask Sessions |

---

## ğŸ“ Project Structure

```
flask_app/
â”‚
â”œâ”€â”€ main.py                  # Model training script
â”œâ”€â”€ app.py                   # Main Flask application
â”œâ”€â”€ lr_model.pkl             # Trained ML model (generated by main.py)
â”œâ”€â”€ schema.sql               # MySQL database schema
â”œâ”€â”€ requirements.txt         # Python dependencies
â”‚
â””â”€â”€ templates/
    â”œâ”€â”€ base.html            # Shared layout and styling
    â”œâ”€â”€ register.html        # User registration page
    â”œâ”€â”€ login.html           # User login page
    â”œâ”€â”€ dashboard.html       # Main dashboard (4 buttons)
    â”œâ”€â”€ predict.html         # COVID prediction form
    â”œâ”€â”€ history.html         # User's prediction history
    â”œâ”€â”€ service.html         # Book a service
    â””â”€â”€ contact.html         # Contact / send message
```

---

## âš™ï¸ Setup & Installation

### 1. Clone the Repository
```bash
git clone https://github.com/your-username/covid-prediction-app.git
cd covid-prediction-app
```

### 2. Install Dependencies
```bash
pip install -r requirements.txt
```

### 3. Setup the MySQL Database
Open MySQL and run the schema file:
```bash
mysql -u root -p < schema.sql
```
This will create the `ml_app` database with 4 tables: `users`, `predictions`, `services`, and `messages`.

### 4. Train the Model
Make sure your `covid` table exists in MySQL with your training data, then run:
```bash
python main.py
```
This generates `lr_model.pkl` in the project folder.

### 5. Update Database Credentials
In `app.py`, update the connection details:
```python
conn = pymysql.connect(
    host="localhost",
    user="root",
    password="your_password",   # <-- change this
    database="ml_app"
)
```

### 6. Run the App
```bash
python app.py
```
Visit `http://127.0.0.1:5000` in your browser.

---

## ğŸ—„ï¸ Database Schema

```sql
users       â†’ id, username, password
predictions â†’ id, user_id, age, gender, fever, cough, city, result
services    â†’ id, user_id, service
messages    â†’ id, user_id, message
```

---

## ğŸ”„ How It Works

1. **Training** â€” `main.py` pulls data from MySQL, trains a Logistic Regression model inside a Scikit-learn Pipeline (with OneHotEncoding), and saves it as `lr_model.pkl`
2. **Register / Login** â€” Users create an account; credentials are verified against the `users` table and a Flask session is started
3. **Dashboard** â€” Logged-in users access 4 features: Predict, History, Book Service, Contact
4. **Predict** â€” Form inputs are passed directly into the ML pipeline, result is displayed and saved to MySQL with the user's ID
5. **History** â€” Each user sees only their own past predictions, fetched by `user_id`
6. **Service & Contact** â€” Form submissions are stored in the `services` and `messages` tables

---

## ğŸ¤– Machine Learning Details

- **Algorithm:** Logistic Regression
- **Library:** Scikit-learn
- **Pipeline:** OneHotEncoder (gender, cough, city) + Logistic Regression
- **Input Features:** Age, Gender, Fever, Cough, City
- **Output:** COVID Positive / Negative
- **Model Saved With:** Joblib

---

## ğŸ“‹ Features

- âœ… User Registration & Login
- âœ… Session-based Authentication
- âœ… COVID Prediction using trained ML model
- âœ… Prediction results saved to MySQL per user
- âœ… Personal Prediction History
- âœ… Service Booking System
- âœ… Contact / Message Form
- âœ… Clean responsive UI

---

## ğŸ“¦ Requirements

```
flask
pymysql
joblib
scikit-learn
numpy
pandas
```

---

## ğŸ‘¤ Author

**Your Name**  
GitHub: [mahipalrajpurohit529-dotcom](https://github.com/mahipalrajpurohit529-dotcom/covid-prediction-app)

---

## ğŸ“„ License

This project is open source and available under the [MIT License](LICENSE).